If you want to rotate in 3d remember the following:

In matrix notation instead of ğ‘¢â€²=ğ‘…ğ‘¢ you need to calculate ğ‘¢â€²=ğ‘…(ğ‘¢âˆ’ğ‘‚ğ‘ƒ)+ğ‘‚ğ‘ƒ, where

u is the vector to rotate
uâ€™ is the rotated vector
R is the rotation matrix
OP is the vector from O to P (that is P-O)

Generalised Euler rotation matrix:

http://eecs.qmul.ac.uk/~gslabaugh/publications/euler.pdf

Don't delete canvas 2 rose petals etc because it has the hypotrochoid patterns codebase.